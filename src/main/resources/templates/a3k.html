<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Color tables</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
</head>
<body>

<table>

    <tr>
        <th>Color</th>
        <th>Votes</th>
    </tr>
    <tr th:each="col : ${colors}">
        <td>
            <a href="a3k.html" th:text="${col.color}" th:href="@{/upd(revColor=${col.color})}"></a>
        </td>
        <td class="votesCell" th:text="1">
        </td>
    </tr>
    <tr>
        <td>
            <a onclick="totalClicked();"><u>TOTAL</u></a>
        </td>
        <td id="total-cell">0</td>
        <!--<td><a th:href="">Total</a></td>-->
        <!--<a href="product/list.html" th:href="@{/product/list}">Product List</a>-->
    </tr>

</table>

<script>
    function totalClicked() {
        var sum=0;
        var votesArray = document.getElementsByClassName("votesCell");

    for (i = 0; i < votesArray.length; i++) {
        var cellNumber=parseInt(votesArray[i].innerHTML);
        if(!isNaN(cellNumber)){
            sum = sum + cellNumber;
        }
    }

    document.getElementById("total-cell").innerHTML=sum;
    }
</script>

</body>
</html>